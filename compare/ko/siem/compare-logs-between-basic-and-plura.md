# 📊 로그 발생량 비교 분석 보고서

**(기본 OS vs PLURA 에이전트 + Sysmon)**

---

## 1️⃣ 테스트 개요 🧪

본 테스트는 **동일한 공격 시나리오** 하에서  
**기본 OS 환경**과 **PLURA 에이전트 + Sysmon 설치 환경** 간  
**로그 생성량 및 가시성 차이**를 비교·분석하기 위해 수행되었다.

### 🎯 테스트 목적

* 동일 공격 발생 시 **로그 생성량 차이** 확인
* 공격 행위에 대한 **탐지 깊이 및 분석 가능성** 비교
* “로그 폭증” 여부가 아닌, **유의미한 보안 로그 증가 여부** 검증

---

## 2️⃣ 테스트 환경 🖥️

### 서버 구성

| 구분       | IP             | 구성                     |
| -------- | -------------- | ---------------------- |
| 기본 OS 서버 | `172.16.13.46` | Windows 기본 OS          |
| 비교 서버    | `172.16.13.47` | PLURA V6 에이전트 + Sysmon |

### Sysmon 설정 파일

```
https://raw.githubusercontent.com/QubitSecurity/EDR/refs/heads/main/Windows/sysmon/server/s-sysmon-plura-v3-merge-29-latest.xml
```

---

## 3️⃣ 테스트 시나리오 및 일정 ⏱️

### 시나리오 1: 랜섬웨어 공격

* 🦠 사용 랜섬웨어: **MINT 랜섬웨어**
* SHA256:

  ```
  c38528988753e516f48614342c2963e0721d32186ff0ffcdae4547b9e41a4afd
  ```
* 테스트 시간:

  * **12/16 09:50 ~ 09:53**

### 시나리오 2: 웹 공격

* 테스트 시간:

  * **12/16 10:10 ~ 10:30**

* 공격 유형:

  1. 웹쉘 업로드
  2. SST Injection
  3. SQL Injection
     (Post-body 기반 공격 위주)

---

## 4️⃣ 로그 수집 및 확인 방법 🔍

### 기본 OS 서버 로그 카운트 방식

PowerShell 스크립트를 이용해  
**특정 시간대 주요 이벤트 채널 로그 수를 직접 카운트**하였다.

📂 대상 채널:

* Security
* System
* Application
* Microsoft-Windows-Sysmon/Operational
* Microsoft-Windows-PowerShell/Operational
* Microsoft-Windows-Windows Defender/Operational

> 해당 스크립트로 **공격 시간 구간에 생성된 이벤트 수**를 비교

### PLURA 에이전트 + Sysmon

* **V6 LIVE 콘솔**에서 시간 범위 지정 후 로그 수 확인

---

## 5️⃣ 테스트 결과 📈

---

### 🔴 1. 랜섬웨어 공격 테스트 결과

#### 로그 발생 수 비교

| 구분                  | 로그 발생 수    |
| ------------------- | ---------- |
| 기본 OS               | **53건**    |
| PLURA 에이전트 + Sysmon | **1,244건** |

📌 **차이점 요약**

* 기본 OS:

  * 단순 이벤트 로그 위주
  * 공격 전·중·후 흐름 파악 불가

* PLURA + Sysmon:

  * 프로세스 생성
  * 파일 생성·변조
  * 행위 연쇄 관계(Log Chain) 확인 가능

⚠️ 특이사항

* 테스트 당시 **V6 EDR 기능 미활성화 상태**
* 허니팟 기반 **전원 OFF 대응은 동작하지 않음**
* 즉, **순수 로그·가시성 비교 실험 결과**임

---

### 🌐 2. 웹 공격 테스트 결과

> 웹 공격 특성상 Web 로그 분석을 위해
> **PLURA V6 → V5 환경으로 전환하여 확인 예정**

---

#### ① 웹쉘 업로드 공격

**기본 OS**

* Access 로그 **1건**
* Post-body, 파일 내용 정보 **미존재**

**PLURA 에이전트 + Sysmon**

* Post-body 기록 확인
* 업로드 파일 크기가 작고 인코딩되지 않아
  👉 **파일 내부 명령어까지 식별 가능**

---

#### ② SST Injection 공격

**기본 OS**

* Access 로그 **1건**
* 공격 페이로드 식별 불가

**PLURA 에이전트 + Sysmon**

* 공격 탐지 확인
* Post-body 기반 **공격 내용 명확히 확인**

---

#### ③ SQL Injection 공격

**기본 OS**

* Access 로그 **1건**
* 단순 요청 기록만 존재

**PLURA 에이전트 + Sysmon**

* SQL Injection 탐지
* Post-body 확인 가능
* 파라미터·쿼리 구조 분석 가능

---

## 6️⃣ 종합 분석 🧠

### 📌 핵심 비교 포인트

| 항목        | 기본 OS | PLURA + Sysmon |
| --------- | ----- | -------------- |
| 로그 수      | 매우 적음 | 공격 행위에 비례      |
| 공격 가시성    | 거의 없음 | 행위 단위로 확인      |
| Post-body | ❌     | ✅              |
| 포렌식 활용성   | 낮음    | 매우 높음          |
| 대응 자동화 기반 | 불가    | 가능             |

---

## 7️⃣ 결론 ✅

✔ **PLURA 에이전트 + Sysmon 환경은**
단순히 “로그가 많아지는” 것이 아니라,

> 🔍 **공격이 발생했을 때 반드시 필요한 로그가 생성됨**

✔ 기본 OS 환경은

* “공격이 있었다”는 사실조차 입증하기 어려움

✔ 본 테스트는
**로그 폭증 여부가 아닌, 보안 가시성과 대응 가능성의 차이를 명확히 보여주는 실험**으로 판단됨

---

📎 **요약 한 줄**

> **공격은 동일했지만,  
> 로그는 ‘존재 여부’ 수준과 ‘분석 가능성’ 수준으로 완전히 갈렸다.**

---
