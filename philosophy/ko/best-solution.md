## 1. 지금 공격은 대부분 ‘웹’에서 시작된다

이제 공격자는 더 이상 방화벽 포트를 “두드리는 것”에 머물지 않습니다.  
공격의 첫 단계는 대부분 다음과 같은 **웹 서비스**에서 시작됩니다.

- 업무 포털, 그룹웨어, 전자결재, ERP, 백업·관리 콘솔  
- 공공 서비스 홈페이지, 민원·신청 시스템  
- API, 모바일·외부 협력사 연동용 웹 서비스  

겉으로는 똑같이 보이는 **정상 웹 요청** 안에,  
취약점 공격 코드, 계정 탈취 시도, 악성 파일 업로드, 봇 트래픽이 섞여 들어옵니다.

이때 **“어떤 URL을 호출했는지”만 남기고**,  
정작 **요청 본문(POST Body)과 파라미터, 헤더**는 남기지 않으면  
사고 이후에는 이렇게 말할 수밖에 없습니다.

> “접속 흔적은 있는데 **무슨 내용을 보냈는지**는 알 수 없습니다.”

2025년 국정감사에서 **이해민 의원이 지적한 것처럼**,  
여러 사고 현장에서 “로그가 없어 무엇이 일어났는지조차 확인할 수 없다”는 문제가 반복되고 있습니다.  
**웹 본문까지 포함한 전체 웹 로그 분석**은 이런 상황을 막을 수 있는,  
가장 현실적이고 효과적인 방법입니다.

---

## 2. 기존 로그만으로는 왜 부족한가

대부분의 기관·기업은 이미 여러 로그를 가지고 있습니다.

- 방화벽 로그 : 어떤 IP·포트가 열렸는지  
- WAF 로그 : 룰에 걸린 공격 시도 일부  
- 웹 서버 접근 로그 : URL, 상태코드(200/404/500 등), 사용자 IP, 대략적인 처리 시간  

하지만 **결정적인 정보가 빠져 있는 경우가 많습니다.**

1. **POST Body 미수집**  
   - 로그인 정보, 신청·등록 내용, 파일 업로드, API 요청 데이터가 대부분 POST Body에 있습니다.  
   - Body를 남기지 않으면 **어떤 파라미터가 어떻게 변조되었는지** 알 수 없습니다.

2. **파라미터·쿠키·헤더 생략**  
   - 세션 탈취, 권한 상승, 크리덴셜 스터핑은  
     URL만 보고는 **공격인지, 단순 오류인지** 구분이 어렵습니다.

3. **WAF 통과 트래픽은 ‘정상’으로 기록**  
   - 우회 기법(인코딩, 쪼개기 등)으로 WAF를 통과하면,  
     **웹 서버 입장에서는 평범한 요청**으로만 남습니다.

결국 사고가 나면,  
“접속은 있었는데, 무엇을 했는지 알 수 없다”는 결론에 도달합니다.  
이것이 바로 국감에서 반복적으로 문제 되는 “**로그 부재 → 원인 규명 실패**”입니다.

---

## 3. 전체 웹 로그(특히 POST 본문) 분석이 해주는 것

### 3-1. 제로데이·신종 공격 징후 포착

제로데이(미공개 취약점)나 WAF 우회 기법은  
처음에는 **어떤 시그니처(패턴)**도 없습니다.

그래서 **행위·패턴 자체**를 봐야 합니다.

- 평소와 다른 URL·파라미터 조합이 반복되는지  
- 특정 기능(예: 비밀번호 찾기, 파일 업로드)을 향해  
  예외적으로 긴 값, 특수한 문자열(인코딩된 스크립트, SQL 구문 등)이 계속 시도되는지  
- 동일 출처(IP·계정·세션)의 요청이 짧은 시간에 비정상적으로 몰리는지  

이러한 **이상 행위 분석의 최소 전제**가 바로  
**전체 요청(헤더 + 파라미터 + 본문)을 통째로 남겨두는 것**입니다.

### 3-2. 계정·세션 탈취와 크리덴셜 스터핑 식별

아이디/비밀번호를 반복 대입하는 크리덴셜 스터핑,  
세션 쿠키를 훔쳐 쓰는 세션 하이재킹은  
** “한두 번의 실패”만 보면 그냥 실수처럼 보입니다.**

그러나 전체 로그를 보면:

- 특정 계정·IP에서  
  수십·수백 회의 로그인 시도가 짧은 시간 안에 몰렸는지  
- 로그인 이후 **평소와 다른 페이지 이동 패턴**을 보이는지  
- 새벽 시간대에 여러 지역 IP에서 동일 계정에 접근했는지  

등을 통해 “**사실상의 공격 행위**”로 판정할 수 있습니다.

이 역시,  
로그인 요청의 **본문(POST Body)**과  
세션·쿠키 정보를 함께 남겨야 가능한 분석입니다.

### 3-3. 웹쉘·파라미터 변조·API 남용의 “증거 확보”

공격자는 보통 다음과 같은 순서로 움직입니다.

1. 웹 취약점(파일 업로드, 입력값 검증 허점 등)을 찾고  
2. 웹쉘 또는 악성 스크립트를 업로드하거나  
3. 권한·가격·수량 등의 파라미터를 몰래 바꾸고  
4. 내부 시스템·데이터로 더 깊이 들어갑니다.

이때 **전체 웹 로그**가 있으면:

- **어떤 파일을 어떤 경로로 업로드했는지**  
- **어떤 파라미터 값을 어떻게 바꿔서** 권한을 올렸는지  
- **어떤 API가 얼마만큼, 어떤 값으로 남용**되었는지  

사고 이후에도 한눈에 재구성이 가능합니다.

이는 단순 “탐지”를 넘어,  
**사법·감사·징계·보험 처리까지 이어질 수 있는 수준의 증거**를 의미합니다.

---

## 4. “로그가 없었다”는 말을 없애기 위한 정책 방향

2025년 국정감사에서 지적된 것처럼,  
중요한 사고에서 **“로그 부재”**가 반복되는 상황을 멈추려면  
정책·제도 차원에서 **“최소한 이 정도는 남겨야 한다”**는 기준이 필요합니다.

정책 당국 관점에서의 정리 포인트는 다음과 같습니다.

### 4-1. “웹 본문까지 포함한 전체 로그”를 최소 기준으로

- 공공·금융·기간망 등 **중요 서비스**에 대해  
  **GET/POST, 헤더, 파라미터, POST Body**까지 포함한 로그를  
  일정 기간 의무 보존하도록 기준을 상향할 필요가 있습니다.
- “URL 중심 접근 로그”만으로는  
  계정 탈취·웹쉘·파라미터 변조·API 남용 등  
  **실제 발생하는 주요 공격 유형을 재현·분석할 수 없습니다.**

### 4-2. 개인정보 보호와 보안 로그는 함께 설계

“본문까지 다 남기면 개인정보 유출 위험이 커지지 않느냐”는 우려가 있습니다.  
따라서 **보안 로그 수집과 개인정보 보호를 같이 설계**해야 합니다.

예를 들어,

- 주민등록번호·카드번호·계좌번호 등은 **수집 단계에서 자동 마스킹**  
- 운영자·분석가 접근 권한을 엄격히 구분  
- 로그는 별도 망·저장소에 보관하여  
  애플리케이션 DB와 분리 관리  

이렇게 하면 **“로그는 남기되, 필요 이상으로 노출되지는 않게”** 만들 수 있습니다.

### 4-3. 분석·경보까지 포함한 “실질적 활용” 유도

로그를 모으기만 하고 보지 않으면 의미가 없습니다.

- 전체 웹 로그를 **XDR·SIEM 등 분석 시스템과 연계**  
- 제로데이 징후, 크리덴셜 스터핑, 웹쉘 업로드 패턴을  
  **자동으로 탐지·알림**  
- 탐지 규칙과 AI 기반 이상 징후 분석을  
  **정기적으로 고도화**할 수 있도록 가이드  

정책적으로는 단순 “보관 의무”를 넘어  
**“분석·경보 체계까지 포함된 로그 활용”**을 권장·지원할 필요가 있습니다.

---

## 5. 결론 – 웹 본문까지 남기는 것이 “최선의 보험”

정리하면 다음과 같습니다.

1. **대부분의 공격은 웹에서 시작**되고,  
   그 핵심 정보는 **POST Body와 파라미터**에 있습니다.  
2. 기존의 URL·상태코드 중심 로그만으로는  
   제로데이, 계정 탈취, 웹쉘, 파라미터 변조, API 남용을  
   **사전 탐지하기도, 사후 규명하기도 어렵습니다.**  
3. 2025년 국감에서 지적된 것처럼,  
   “로그가 남아 있지 않아 무엇이 일어났는지 알 수 없다”는 상황을 막기 위한  
   가장 확실한 방법은 **웹 요청 전체(헤더+파라미터+본문)를 통째로 기록·분석하는 것**입니다.  

**웹 본문까지 포함한 전체 웹 로그 분석**은  
“있으면 좋은 추가 옵션”이 아니라,  
앞으로의 공공·금융·기업 시스템에 필요한 **새로운 최저 보안 기준**입니다.

이 기준을 정책·제도 차원에서 명확히 해 두어야만,  
우리나라가 해킹으로부터 “**로그가 없어서 원인을 모른다**”는  
반복적인 참사에서 벗어날 수 있습니다.
