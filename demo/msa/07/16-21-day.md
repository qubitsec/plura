## 21일차 – 쿠버네티스 입문

**날짜: 7월 16일**

---

## 주제

# **21. 쿠버네티스가 해결하는 문제**

> “컨테이너를 **운영**하는 순간, 문제가 폭발한다”

---

## 1️⃣ Docker만으로는 왜 부족한가

Docker/Compose까지 오면 이런 질문이 생깁니다.

* 컨테이너가 **죽으면** 누가 살리나?
* 트래픽이 늘면 **몇 개로 늘릴지** 누가 판단하나?
* 어느 서버에 **어디에 배치할지** 누가 정하나?
* 배포 중에도 **무중단**이 가능한가?
* 서비스 주소는 **어떻게 찾나**?

이 질문에 “사람이 한다”는 답이 나오면,
그 순간부터 운영은 **확장 불가능**해집니다.

---

## 2️⃣ 쿠버네티스는 무엇을 하는가 (한 문장)

> **쿠버네티스는
> 컨테이너 운영에서 반복되는 판단과 작업을
> 자동화하는 시스템이다**

---

## 3️⃣ 쿠버네티스가 해결하는 핵심 문제 6가지

### ✅ 1) 배치(Scheduling)

* 어떤 컨테이너를
* 어떤 노드에
* 언제 배치할지

자원 상황을 보고 **자동 결정**

---

### ✅ 2) 자가 치유(Self-Healing)

* 컨테이너가 죽으면
* 자동으로 재시작
* 노드가 죽으면
* 다른 노드로 재배치

“죽어도 다시 살아남”

---

### ✅ 3) 확장(Scaling)

* 트래픽 증가 시 자동 확장
* 트래픽 감소 시 자동 축소

사람이 숫자 조정 
정책 기반 자동화 

---

### ✅ 4) 서비스 디스커버리 & 로드밸런싱

* 컨테이너 IP는 계속 바뀜
* 쿠버네티스는 **고정된 서비스 이름** 제공
* 내부 로드밸런싱 자동 처리

“IP를 몰라도 통신 가능”

---

### ✅ 5) 선언적 배포(Desired State)

* “이렇게 되길 원한다”만 선언
* 현재 상태가 다르면
* 자동으로 맞춤

스크립트 지옥 탈출

---

### ✅ 6) 무중단 배포(Rolling Update)

* 새 버전 하나씩 띄움
* 정상 확인 후 기존 버전 종료  
  .  
* 문제 시 자동 롤백 가능

---

## 4️⃣ Docker Compose vs Kubernetes (운영 관점)

| 구분       | Docker Compose | Kubernetes |
| -------- | -------------- | ---------- |
| 대상       | 로컬/개발          | 운영/대규모     |
| 자가 치유    | ❌              | ✅          |
| 오토스케일    | ❌              | ✅          |
| 무중단 배포   | ❌              | ✅          |
| 노드 장애 대응 | ❌              | ✅          |
| 선언적 관리   | 제한적            | 핵심 철학      |

**Compose는 연습장**,
**Kubernetes는 경기장**

---

## 5️⃣ 쿠버네티스의 사고방식 전환(중요)

쿠버네티스를 이해하려면
이 생각부터 버려야 합니다.

* “이 서버에 배포한다”
* “이 컨테이너를 직접 띄운다”

대신 이렇게 생각합니다.

* ✅ “이 상태가 유지되길 원한다”
* ✅ “몇 개가 항상 살아있어야 한다”

**명령형 → 선언형** 사고 전환

---

## 6️⃣ 쿠버네티스는 ‘마법’이 아니다

쿠버네티스가 해주지 않는 것들도 명확합니다.

* 애플리케이션 버그 해결 
* 아키텍처 설계 
* 보안 정책 자동 완성 
* 비용 자동 최적화 

**잘못 설계된 MSA를
쿠버네티스가 구해주지는 않는다**

---

## 7️⃣ 언제 쿠버네티스를 도입해야 하는가

### 도입이 의미 있는 시점

* 서비스/컨테이너 수 증가
* 배포/확장이 운영 병목
* 장애 복구 자동화 필요
* 무중단 배포 요구

### 아직 이른 시점

* 서비스 1~2개
* 수동 운영도 충분
* 학습/운영 여력 부족

---

## 8️⃣ 결론: 쿠버네티스는 ‘운영 자동화 플랫폼’이다

* 컨테이너를 **잘 띄우는 도구** 
* 컨테이너를 **잘 운영하는 시스템**

> **쿠버네티스는
> MSA의 복잡성을 없애지 않는다.
> 다만, 사람이 감당할 수 있게 만든다.**

---

## ✅ 오늘의 핵심 요약

* Docker만으로는 운영 자동화가 불가능하다.
* 쿠버네티스는 배치·복구·확장·배포를 자동화한다.
* 선언적 관리가 핵심 철학이다.
* Compose는 개발용, Kubernetes는 운영용이다.
* 쿠버네티스는 운영의 부담을 시스템으로 옮긴다.

---
