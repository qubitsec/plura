## 16일차 – 컨테이너 입문

**날짜: 7월 2일**

---

## 주제

# **16. 왜 컨테이너(Container)인가**

### VM과의 차이, 그리고 MSA·쿠버네티스로 가는 이유

> “배포 단위를 바꾸면 운영이 바뀐다”

---

## 1️⃣ MSA에서 컨테이너가 사실상 표준이 된 이유

MSA의 목표는 **서비스를 독립적으로 배포/확장/복구**하는 것입니다.
그런데 서비스가 10개, 30개, 100개가 되면 다음 문제가 터집니다.

* 서비스마다 실행 환경이 다름
* 설치 방식/의존성/버전이 달라짐
* 서버마다 “내 PC에서는 되는데요”가 반복됨
* 배포와 롤백이 점점 공포가 됨

이 문제를 해결하는 가장 강력한 단위가 **컨테이너**입니다.

---

## 2️⃣ VM(Virtual Machine)이란?

VM은 “가상 컴퓨터”입니다.

* 하이퍼바이저 위에
* **게스트 OS(운영체제)** 까지 포함해서 실행
* 강한 격리
* 무겁고 느리며(상대적으로)
* 부팅/증설이 느림

---
  
  .  
## 3️⃣ 컨테이너(Container)란?

컨테이너는 “가상 컴퓨터”가 아니라
**“프로세스 실행 환경을 패키징한 단위”**입니다.

* 호스트 OS 커널을 공유
* 애플리케이션 실행에 필요한 것만 포함

  * 실행파일
  * 라이브러리
  * 설정
* 빠르게 시작
* 가볍게 확장

---

## 4️⃣ VM vs 컨테이너 핵심 비교

| 항목      | VM         | 컨테이너                    |
| ------- | ---------- | ----------------------- |
| 포함 범위   | OS까지 포함    | OS는 공유(커널 공유), 앱 실행 환경만 |
| 시작 속도   | 느림(부팅)     | 매우 빠름(프로세스 수준)          |
| 자원 사용   | 상대적으로 큼    | 상대적으로 작음                |
| 격리 수준   | 강함         | 충분히 강하지만 커널 공유          |
| 배포 단위   | 서버/VM 이미지  | 컨테이너 이미지                |
| 확장      | 무겁고 느림     | 가볍고 빠름                  |
| MSA 적합성 | 가능하지만 비효율적 | 표준에 가까움                 |

---

## 5️⃣ 컨테이너의 핵심 가치 3가지

### ✅ 1) “환경이 같다”

* 개발/테스트/운영이 동일한 실행 환경을 사용
* 의존성 충돌 감소

> **Build once, Run anywhere**에 가까워짐

---

### ✅ 2) 배포가 “파일 전달”이 아니라 “이미지 교체”

* 배포는 이미지 버전만 바꾸면 됨
* 롤백도 이전 이미지로 되돌리면 됨

---

### ✅ 3) 확장과 복구가 빨라짐

* 장애 나면 컨테이너를 재시작/재생성
* 트래픽 증가 시 컨테이너 복제

“서버 운영”이 아니라 “워크로드 운영”이 됨

---

## 6️⃣ 컨테이너만으로는 부족한 이유 (쿠버네티스가 필요한 이유)

컨테이너가 많아지면 이런 문제가 생깁니다.

* 어디에 배치할지(스케줄링)
* 죽으면 어떻게 살릴지(자가치유)
* 몇 개로 늘릴지(오토스케일)
* 서비스 디스커버리/로드밸런싱
* 롤링 업데이트/롤백

이걸 자동으로 해주는 것이 **쿠버네티스(Kubernetes)** 입니다.

---

## 7️⃣ 결론: 컨테이너는 “MSA 운영의 기본 단위”다

* MSA는 서비스가 많아질수록 운영이 어려워짐
* 컨테이너는 운영을 표준화하고 단순화함
* 쿠버네티스는 컨테이너 운영을 자동화함

> **컨테이너는 MSA의 성능을 올리는 게 아니라
> MSA를 ‘운영 가능하게’ 만드는 기반**입니다.

---

## ✅ 오늘의 핵심 요약

* VM은 OS까지 포함한 가상 컴퓨터, 컨테이너는 실행 환경 패키지다.  
  .    
* 컨테이너는 빠르고 가볍고 배포/롤백이 쉽다.
* MSA 규모가 커질수록 컨테이너가 필수에 가까워진다.    
* 컨테이너가 많아지면 쿠버네티스가 필요해진다.
---
