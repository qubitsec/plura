## 30일차 – 최종 정리

**날짜: 7월 26일**

---

## 주제

# **30. 운영 체크리스트: MSA·쿠버네티스 실전 점검표**

> “아키텍처는 완성됐는가?
> 이제는 **운영 가능한가**를 묻는다”

---

## 1️⃣ 왜 ‘운영 체크리스트’가 필요한가

지금까지 우리는 다음을 모두 다뤘습니다.

* 모놀리식 → MSA
* 서비스 분해
* 컨테이너
* 쿠버네티스 핵심 개념
* 배포·확장·복구 전략

하지만 실전에서는 항상 이 질문이 남습니다.

> **“이 상태로 장애가 나도 버틸 수 있는가?”**

운영 체크리스트는
**이 질문에 답하기 위한 최소 조건**입니다.

---

## 2️⃣ 아키텍처 구조 점검

### ✅ 서비스 경계

* [ ] 서비스가 **도메인 기준**으로 나뉘어 있는가
* [ ] 서비스 간 **DB 직접 접근**이 없는가
* [ ] 내부 통신은 Service 이름 기반인가

### ✅ 데이터

* [ ] Database per Service 원칙 준수
* [ ] 상태 데이터는 PV/PVC 사용
* [ ] Stateful 서비스는 StatefulSet 사용

---

## 3️⃣ 컨테이너 & 이미지 점검

### ✅ 이미지

* [ ] 이미지가 **불변(Immutable)** 으로 관리되는가
* [ ] `latest` 태그를 운영에서 사용하지 않는가
* [ ] 멀티 스테이지 빌드 사용 여부

### ✅ Dockerfile

* [ ] 비밀정보가 이미지에 포함되지 않는가
* [ ] 실행 권한 최소화(non-root)
* [ ] 이미지 크기 과도하지 않은가

---

## 4️⃣ 쿠버네티스 리소스 점검

### ✅ Deployment

* [ ] Pod를 직접 생성하지 않는가
* [ ] replicas가 명확히 정의되어 있는가
* [ ] 롤링 업데이트 전략 설정 여부

### ✅ Service / Ingress

* [ ] Pod IP 직접 사용 없음
* [ ] 외부 트래픽은 Ingress로만 유입
* [ ] TLS 적용 여부

---

## 5️⃣ 헬스체크 & 자동화 점검

### ✅ 헬스체크
  
  .  
* [ ] Readiness / Liveness 분리
* [ ] Liveness에 외부 의존성 포함
* [ ] 장애 시 재시작 루프 방지 설정

### ✅ 오토스케일링

* [ ] HPA 설정 여부
* [ ] CPU 외 메트릭 고려
* [ ] 무상태 서비스에만 적용

---

## 6️⃣ 설정 & 보안 점검

### ✅ 설정 관리

* [ ] 설정은 ConfigMap/Secret으로 분리
* [ ] 이미지에 환경별 설정 포함
* [ ] 환경별 네임스페이스 분리

### ✅ 보안

* [ ] 인증/인가 중앙화(API Gateway/Ingress)
* [ ] 내부 서비스 통신 보호
* [ ] Secret 접근 RBAC 제한

---

## 7️⃣ 관측 가능성(Observability) 점검

### ✅ 로그

* [ ] 중앙 로그 수집
* [ ] 구조화 로그(JSON)
* [ ] Trace ID 포함

### ✅ 메트릭 & 트레이싱

* [ ] 주요 지표 대시보드 존재
* [ ] 서비스 간 호출 트레이싱 가능
* [ ] 장애 원인 추적 가능 여부

---

## 8️⃣ 배포 & 장애 대응 점검

### ✅ 배포 전략

* [ ] Rolling / Blue-Green / Canary 중 선택
* [ ] 롤백 경로 명확
* [ ] DB 변경은 하위 호환 유지

### ✅ 장애 대응

* [ ] 타임아웃/재시도/서킷브레이커 적용
* [ ] 부분 장애 허용 설계
* [ ] 수동 개입 없이 1차 복구 가능

---

## 9️⃣ 최종 자가 진단 질문

다음 질문에 답해보세요.

* 새 버전 배포 중 장애가 나면 **얼마나 빨리 되돌릴 수 있는가**
* 특정 서비스가 죽어도 **전체는 살아남는가**
* “지금 무슨 일이 일어나고 있는지” **한눈에 보이는가**
* 새 인력이 와도 **구조를 설명할 수 있는가**

이 질문에 “예”가 많을수록
**운영 가능한 MSA**에 가깝습니다.

---

## 1️⃣0️⃣ 결론: MSA의 완성은 ‘운영’이다

* MSA는 나누는 기술이 아니다
* 쿠버네티스는 띄우는 기술이 아니다

> **진짜 완성은
> 사람이 없어도 버티는 구조**다

---  
  .  

## ✅ 최종 핵심 요약

* 아키텍처는 운영 가능해야 의미가 있다.
* 체크리스트는 문서가 아니라 **안전장치**다.
* 자동화는 조건이 맞을 때만 작동한다.
* 관측·보안·복구 없는 MSA는 위험하다.
* “잘 설계된 실패”를 허용하는 것이 성숙한 구조다.

---
