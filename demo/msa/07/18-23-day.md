## 23일차 – 쿠버네티스 핵심 개념

**날짜: 7월 18일**

---

## 주제

# **23. Pod란 무엇인가**

> “쿠버네티스의 가장 작은 배포·실행 단위”

---

## 1️⃣ 왜 ‘컨테이너’가 아니라 ‘Pod’인가

Docker 세계에서는 **컨테이너**가 실행 단위였습니다.
하지만 쿠버네티스에서는 **Pod**가 최소 단위입니다.

이유는 간단합니다.

> **함께 움직여야 하는 것들을 하나로 묶기 위해서**

---

## 2️⃣ Pod의 한 문장 정의

> **Pod는 하나 이상의 컨테이너를 묶어
> 같은 네트워크와 같은 생명주기로 실행하는 단위**

---

## 3️⃣ Pod의 핵심 특징 4가지

### ✅ 1) 같은 IP / 같은 포트 공간

* Pod 안의 컨테이너들은 **하나의 IP**를 공유
* `localhost`로 서로 통신 가능
* 포트 충돌만 주의하면 됨

---

### ✅ 2) 같은 생명주기

* Pod가 생성되면 함께 생성
* Pod가 종료되면 함께 종료
* **컨테이너 단독으로 살려두는 개념이 아님**

---

### ✅ 3) 같은 노드에 배치

* Pod 안 컨테이너는 **반드시 같은 노드**
* 서로 다른 노드에 흩어질 수 없음

“강하게 결합된 실행 단위”

---

### ✅ 4) 임시적(Ephemeral) 존재

* Pod는 언제든지 삭제될 수 있음
* 죽으면 **새로 생성**됨
* IP는 바뀔 수 있음

그래서 **Pod IP에 의존하면 안 됨**

---

## 4️⃣ Pod 안에 컨테이너를 여러 개 두는 경우

### 언제 1 Pod = 여러 컨테이너인가?

정답은 명확합니다.

> **서로를 보조하는 역할(Sidecar)일 때**

---

### 대표적인 패턴

#### 메인 컨테이너 + 사이드카

* 메인 앱
* 로그 수집기
* 프록시
* 보안 에이전트

```
[ Pod ]
 ├─ App Container
 └─ Sidecar Container
```

함께 뜨고, 함께 죽어야 의미가 있는 경우

---

### 잘못된 사용

* 서로 독립적인 서비스들을
* 한 Pod에 묶는 것

이건 **MSA 철학 위반**

---

## 5️⃣ Pod와 컨테이너의 관계 정리

| 구분       | 컨테이너    | Pod       |
| -------- | ------- | --------- |
| 개념       | 실행 프로세스 | 실행 묶음     |
| 네트워크     | 개별      | Pod 단위 공유 |
| 배포 단위    |        |          |
| 스케일링     |        |         |
| 쿠버네티스 제어 | 간접      | 직접        |

**쿠버네티스는 Pod만 관리**합니다.

---

## 6️⃣ Pod는 직접 만들까? (중요)

### 운영에서는 거의 직접 만들지 않는다

Pod를 직접 생성하면:

* 장애 시 자동 복구 
* 스케일링 
* 롤링 업데이트 

---

### ✅ 보통은 상위 객체가 Pod를 만든다

* Deployment
* ReplicaSet
* Job / CronJob

Pod는 **관리 대상**이지
**관리 주체가 아니다**

---

## 7️⃣ Pod 설계의 현실적인 원칙

### ✅ 원칙 5가지

1. **1 Pod = 1 서비스**가 기본
2. 사이드카는 “보조 역할”만
3. 상태는 Pod 밖으로 분리
4. Pod IP에 의존하지 말 것
5. Pod는 언제든 죽는다고 가정

---

## 8️⃣ 흔한 오해 정리

### “Pod는 오래 살아있다”

→ 언제든지 교체됨

### “Pod에 데이터 저장해도 된다”

→ 삭제 시 데이터 소멸

### “컨테이너를 직접 배포한다”

→ Pod를 배포한다

---

## 9️⃣ 결론: Pod는 ‘실행 단위’, 설계의 출발점이다

쿠버네티스를 이해하는 첫 관문은 이것입니다.

> **컨테이너가 아니라 Pod가
> 배포·확장·복구의 기준이다**

이 감각이 없으면
Deployment, Service, HPA가 전부 헷갈리게 됩니다.

---

## ✅ 오늘의 핵심 요약

* Pod는 쿠버네티스의 최소 실행 단위다.
* 하나 이상의 컨테이너를 묶는다.
* 같은 IP·네트워크·생명주기를 공유한다.
* Pod는 언제든지 죽고 다시 만들어진다.
* 운영에서는 Pod를 직접 다루지 않는다.

---
