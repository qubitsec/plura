# MSA·쿠버네티스 종합 Q&A

**날짜: 7월 31일**

### (개념 → 설계 → 운영 관점)

---

## Q1. 모놀리식은 왜 문제가 되는가?

**A.** 모놀리식 자체가 문제는 아니다.
하지만 **서비스 규모·팀·트래픽이 성장하면**
배포 리스크, 장애 전파, 확장 비효율이 급격히 커진다.

---

## Q2. 그럼 처음부터 MSA로 가야 하는가?

**A.** 아니다.
대부분의 성공 사례는
**모놀리식 → 모듈러 모놀리식 → MSA** 순서로 진화한다.
MSA는 *운영 전략*이지 *출발점*이 아니다.

---

## Q3. MSA의 핵심 가치는 무엇인가?

**A.** 기능 분리가 아니라
**독립 배포 · 독립 확장 · 장애 격리 · 팀 책임 분리**다.

---

## Q4. 서비스는 어떻게 나누는 것이 맞는가?

**A.** 화면이나 기능 기준이 아니라
**도메인 + 데이터 소유권 + 팀 책임** 기준으로 나눈다.
같은 단어의 의미가 달라지는 지점이 분리 후보이다.

---

## Q5. DB는 반드시 서비스별로 나눠야 하는가?

**A.** 그렇다.
**DB 공유는 MSA 실패의 지름길**이다.
API/이벤트를 통해서만 데이터에 접근해야 한다.

---

## Q6. DB를 나누면 조회는 어떻게 하나?

**A.**

1. API 조합
2. 이벤트 기반 데이터 복제(Read Model)
3. CQRS
   중 하나를 선택한다.
   **조인을 포기하는 대신 독립성을 얻는다.**

---

## Q7. MSA에서 트랜잭션은 어떻게 처리하는가?

**A.** 단일 트랜잭션은 불가능하다.
**SAGA 패턴**으로
로컬 트랜잭션 + 보상 트랜잭션을 사용한다.

---

## Q8. REST와 gRPC는 어떻게 선택하는가?

**A.**

* 외부/프론트엔드: **REST**
* 내부 서비스 간: **gRPC**
  중요한 건 프로토콜보다 **동기 호출 최소화**다.

---

## Q9. 동기 호출을 줄여야 하는 이유는?

**A.**
동기 호출 체인은 **연쇄 장애(Cascading Failure)** 를 만든다.
MSA는 **네트워크 실패를 전제로** 설계해야 한다.

---

## Q10. 이벤트 기반 아키텍처는 언제 쓰는가?

**A.**

* 여러 서비스가 같은 사실에 반응해야 할 때
* 즉시 결과가 필요 없을 때
* 장애 격리·확장성이 중요할 때

---

## Q11. API Gateway는 왜 필요한가?

**A.**

* 단일 진입점
* 인증/보안 정책 중앙화
* 내부 서비스 구조 은닉
  Gateway는 **첫 번째 방어선**이다.

---

## Q12. MSA에서 보안의 핵심은 무엇인가?

**A.**

* 인증과 인가 분리
* 세션, 토큰(JWT)
* 내부 서비스도 신뢰하지 않음(Zero Trust)

---

## Q13. 컨테이너는 왜 필수가 되었는가?

**A.**
MSA는 배포 단위가 많다.
컨테이너는 **환경 차이·배포·롤백 문제를 표준화**한다.

---

## Q14. Docker Compose는 언제까지 쓰는 도구인가?

**A.**

* 로컬 개발
* 학습
* CI
  운영용은 아니다.
  **Compose는 연습장, Kubernetes는 경기장**이다.

---

## Q15. 쿠버네티스는 정확히 무엇을 해결하는가?

**A.**

* 배치
* 자가 치유
* 확장
* 무중단 배포
* 선언적 운영
  **사람의 운영 판단을 시스템으로 옮긴다.**

---

## Q16. 쿠버네티스의 최소 실행 단위는?

**A.**
컨테이너가 아니라 **Pod**다.
배포·확장·복구의 기준은 Pod이다.

---

## Q17. 왜 Pod를 직접 운영하면 안 되는가?

**A.**
자동 복구, 스케일링, 롤링 업데이트가 불가능하다.
운영에서는 반드시 **Deployment**를 사용한다.

---

## Q18. Service와 Ingress의 차이는?

**A.**

* Service: **내부 고정 주소 + 로드밸런싱**
* Ingress: **외부 HTTP/HTTPS 진입점**

---

## Q19. ConfigMap과 Secret은 왜 중요한가?

**A.**

* 이미지는 같게
* 설정은 외부에서
* 민감정보는 분리
  **운영 사고의 80%는 설정에서 시작된다.**

---

## Q20. MSA·쿠버네티스의 완성 기준은 무엇인가?

**A.**
다음 질문에 답할 수 있는가이다.

* 배포 중 장애가 나면 얼마나 빨리 롤백 가능한가?
* 일부 서비스가 죽어도 전체는 살아남는가?
* 지금 무슨 일이 일어나는지 한눈에 보이는가?
* 사람이 없어도 1차 복구가 가능한가?

**“운영 가능한가?”**
이 질문에 “예”라면 구조는 완성이다.

---

## 최종 요약 한 문장

> **MSA와 쿠버네티스는
> 기술을 나누는 방법이 아니라
> 실패를 관리하는 방법이다.**

---
