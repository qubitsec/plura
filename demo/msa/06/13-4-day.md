# 📘 MSA 개발을 위한 사전 설명 문서

## 4일차 – 개념 이해

**날짜: 6월 13일**

---

## 1️⃣ 왜 “모놀리식 vs MSA” 비교가 중요한가

아키텍처 선택은 기술 유행이 아니라, 아래 4가지를 무엇에 최적화할지의 결정입니다.

* **조직(팀 구조)**
* **배포(릴리즈 방식)**
* **장애(복구/영향 범위)**
* **확장(비용과 효율)**

---

## 2️⃣ 모놀리식 vs MSA 핵심 비교표

| 구분            | 모놀리식 (Monolithic)                   | MSA (Microservices)                  |
| ------------- | ----------------------------------- | ------------------------------------ |
| **조직(팀 구조)**  | 한 코드베이스를 여러 팀이 함께 개발 → **조율 비용 증가** | 서비스 단위로 팀 분리 가능 → **독립적인 개발/운영**     |
| **배포(릴리즈)**   | 작은 수정도 전체 빌드·전체 배포                  | 서비스 단위로 **부분 배포** 가능                 |
| **장애(영향 범위)** | 한 장애가 전체로 전파되기 쉬움                   | 서비스 단위 장애 격리 가능 (설계가 전제)             |
| **확장(Scale)** | 특정 기능만 필요해도 전체 확장                   | 트래픽 큰 서비스만 선택 확장 가능                  |
| **변경 리스크**    | 변경 영향 범위가 큼                         | 변경 영향 범위가 서비스 단위로 제한                 |
| **성능**        | 내부 호출(함수 호출)로 빠른 편                  | 서비스 간 호출은 네트워크 비용 발생                 |
| **데이터**       | 한 DB로 단순한 트랜잭션 구성                   | 서비스별 DB 분리 권장 → **일관성 설계 필요**        |
| **운영 난이도**    | 초기 운영이 단순                           | 운영 포인트 증가 → 자동화/관측 필수                |
| **관측 가능성**    | 로그만으로도 어느 정도 추적 가능                  | 분산 추적(Tracing) 등 **관측 체계 없으면 운영 불가** |
| **적합한 단계**    | MVP/PoC/초기 성장                       | 성장 이후(팀/트래픽/장애/배포 속도 요구)             |

---

## 3️⃣ 조직 관점(Team & Ownership)

### 모놀리식

* 팀이 늘어날수록 “같은 파일/같은 모듈”에서 충돌 발생
* 릴리즈 조율, 테스트 조율이 늘어나며 속도가 느려짐

### MSA

* 서비스별로 오너십(책임)이 명확해짐
* “우리 서비스만” 고치고 “우리 서비스만” 배포 가능
* 대신 **서비스 간 계약(API) 관리**가 중요해짐

---

## 4️⃣ 배포 관점(Release & Delivery)

### 모놀리식

* 배포는 단순하지만, **배포 1번의 위험이 큼**
* 릴리즈 주기가 느려지고 “큰 배포”가 되어 더 위험해짐

### MSA

* 배포 단위를 잘게 쪼개 **작은 배포를 자주**
* 배포 자동화(CI/CD), 롤백 전략, 배포 정책이 필수

---

## 5️⃣ 장애 관점(Failure & Recovery)

### 모놀리식

* 한 곳에서 문제가 생기면 전체가 느려지거나 다운될 수 있음
* 장애 격리가 어렵고 “연쇄 장애” 가능성이 큼

### MSA

* 장애는 “부분 장애”로 남길 수 있음
  (예: 결제 장애가 나도 장바구니/조회는 유지)
* 단, 전제 조건이 있음:

  * 타임아웃/재시도/서킷브레이커
  * 장애 격리(격벽)
  * 관측(로그/메트릭/트레이싱)

---

## 6️⃣ 확장 관점(Scale & Cost)

### 모놀리식

* 병목이 특정 기능인데도 전체 앱을 키워야 함
  → 비용 비효율 + 리소스 낭비

### MSA

* 병목 서비스만 확장 가능
  → 비용 효율 + 성능 목표 달성에 유리
* 대신:

  * 서비스 수 증가
  * 네트워크 통신 증가
  * 운영 복잡성 증가

---

## 7️⃣ 결론: “무조건 MSA”가 아니라 “단계에 맞는 선택”

### 모놀리식이 좋은 경우

* 아직 기능이 자주 바뀌는 초기
* 팀이 작고 의사결정이 빠름
* 운영 자동화/관측 체계가 아직 없음

### MSA가 효과적인 경우

* 팀이 커지고 독립 개발이 필요
* 배포가 병목이 됨
* 장애가 전체로 전파됨
* 트래픽 패턴이 서비스별로 크게 다름

---

## ✅ 오늘의 핵심 요약

* 모놀리식은 **단순함**이 장점이지만, 성장하면 **결합도**가 리스크가 된다.
* MSA는 **독립 배포/장애 격리/선택 확장**이 장점이지만, **운영 복잡성**이 비용이다.
* 선택 기준은 기술이 아니라 **조직·배포·장애·확장**이다.

---

다음(5일차) “서비스 경계와 도메인(DDD 맛보기)”에서는
**‘어디서 서비스를 나눌 것인가’**를 가장 실무적인 기준으로 정리해 드릴게요.
